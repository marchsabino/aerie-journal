<div class="my-3 p-3 bg-white rounded shadow-sm">
  <h6 class="border-bottom border-gray pb-2 mb-3">Members List</h6>
  <div class="table-responsive">
    <table class="table table-striped table-hover table-sm">
      <caption class="small text-right">
        Current Staff List
      </caption>
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let member of members">
          <td>
            <app-profile-image [user]="member"></app-profile-image>
            <a [href]="'mailto:' + member.email">
              {{ member.firstName | titlecase }}
              {{ member.lastName | titlecase }}
            </a>
          </td>
          <td>
            <span class="d-none d-sm-inline badge badge-primary">{{
              member.privilege | privilege
            }}</span>
            <span class="d-none d-sm-inline badge badge-secondary">{{
              member.position | titlecase
            }}</span>
            <span class="d-inline d-sm-none badge badge-secondary">{{
              member.position.split(" ").pop()
            }}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div
  *ngIf="currentUser?.privilege >= 2"
  class="my-3 p-3 bg-white rounded shadow-sm"
>
  <h6 class="border-bottom border-gray pb-2 mb-3">Create a User</h6>
  <div class="row">
    <div class="col-md-8 col-lg-6">
      <form>
        <div class="row">
          <div class="col-md-6 mb-2">
            <label for="firstName">First name</label>
            <input
              id="firstName"
              class="form-control"
              placeholder="First name"
              type="text"
            />
          </div>
          <div class="col-md-6 mb-2">
            <label for="lastName">Last name</label>
            <input
              id="lastName"
              class="form-control"
              placeholder="Last name"
              type="text"
            />
          </div>
        </div>
        <div class="row mb-2">
          <div class="col-md-12">
            <label for="email">Email Address</label>
            <input
              id="email"
              class="form-control"
              placeholder="Email address"
              type="email"
            />
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 mb-2">
            <label for="privilege">Privilege</label>
            <select id="privilege">
              <option value="0">Staff</option>
              <option value="1">Moderator</option>
              <option value="2">Administrator</option>
            </select>
          </div>
          <div class="col-md-6 mb-3">
            <label for="position">Position</label>
            <select id="position">
              <option value="Editor">Editor</option>
              <option value="Advertising Editor">Advertising Editor</option>
              <option value="Secretary">Secretary</option>
              <option value="Supervisor">Supervisor</option>
              <option value="Website Maintainer">Website Maintainer</option>
            </select>
          </div>
        </div>
        <app-action-button>
          Create User
        </app-action-button>
      </form>
    </div>
  </div>
</div>
<div
  *ngIf="currentUser?.privilege >= 2"
  class="my-3 p-3 bg-white rounded shadow-sm"
>
  <h6 class="border-bottom border-gray pb-2 mb-3">Delete Users</h6>
  <div class="row">
    <div class="col-md-8 col-lg-6">
      <form>
        <div class="table-responsive">
          <table class="table table-striped table-hover table-sm">
            <caption class="small text-right">
              Delete Users
            </caption>
            <thead>
              <tr>
                <th scope="col">Name</th>
                <th scope="col" class="text-right">
                  <label class="d-inline mr-1" for="deleteAllCheckbox"
                    >Delete All</label
                  >
                  <input
                    id="deleteAllCheckbox"
                    type="checkbox"
                    (click)="selectAll($event)"
                    [checked]="allSelected()"
                  />
                </th>
              </tr>
            </thead>
            <tbody>
              <ng-container
                *ngFor="let member of staffMembers; let staffIndex = index"
              >
                <tr (click)="selectSingle(staffIndex)">
                  <td>
                    <app-profile-image [user]="member.data"></app-profile-image>
                    {{ member.data.firstName | titlecase }}
                    {{ member.data.lastName | titlecase }}
                  </td>
                  <td class="text-right">
                    <input type="checkbox" [checked]="member.checked" />
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
          <app-action-button
            type="danger"
            (perform)="deletePopup()"
            [disabled]="!anySelected()"
          >
            Delete Selected Users
          </app-action-button>
        </div>
      </form>
    </div>
  </div>
</div>
